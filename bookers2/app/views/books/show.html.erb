<% if @book.errors.any? %>
    <%= @book.errors.count %>件のエラーが発生しました
      <% @book.errors.full_messages.each do |message| %>
        <%= message %>
    <% end %>
  <% end %>

<div class="container">
  <div class="row">
    <div class="col-md-3">
      <%= render "layouts/side_bar", user: @user, book: @book %>
    </div>
    <div class="col-md-8 offset-md-1">
      <h2 class="mt-3">Book detail</h2>
      <table class="table">
        <tr>
          <tbody>
            <td><%= attachment_image_tag @user, :profile_image, :fill, 60, 60, fallback: "no_image.jpg" %></td>
            <td><%= @user.name %></td> <!-- book変数のuser_idに関連付けられているuserモデルのnameカラムを表示します -->
            <td><%= @book.title %></td>
            <td><%= @book.body %></td>
            <% if @user == current_user %>
              <td><%= link_to "Edit", edit_book_path(@book), class: "btn btn-success" %></td>
            <% end %>
            <% if @user == current_user %>
               <td><%= link_to "Destroy", book_path(@book), method: :delete, class: "btn btn-danger" %></td>
            <% end %>
          </tbody>
        </tr>
      </table>
    </div>
  </div>
</div>